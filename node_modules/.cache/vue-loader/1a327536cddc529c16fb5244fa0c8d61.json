{"remainingRequest":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\work\\VueWork\\newTask\\development\\separate\\src\\components\\lang-container.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\src\\components\\lang-container.vue","mtime":1629354041845},{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work\\VueWork\\newTask\\development\\separate\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxhbmdDb250YWluZXIgewogIGhlaWdodDogY2FsYygxMDB2aCAtIDkwcHgpOwogIG1hcmdpbi10b3A6IDcwcHg7CiAgd2lkdGg6IGNhbGMoMTAwJSAtIDU1cHgpOwogIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1vdXQgMHM7CiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZS1vdXQgMHM7Cn0KLmxhbmdDb250YWluZXIub3BlblNldHRpbmdQYW5lbCB7CiAgd2lkdGg6IGNhbGMoMTAwJSAtIDI1MHB4KTsKfQoubGFuZ0RlZmF1bHQsCi5sYW5nVHJhbnNsYXRlIHsKICBoZWlnaHQ6IGNhbGMoNTB2aCAtIDQ1cHgpOwogIG1hcmdpbjogMCAyMHB4IDAgNDBweDsKICBwYWRkaW5nOiA0MHB4IDAgIWltcG9ydGFudDsKICB3aWR0aDogY2FsYygxMDAlIC0gNjBweCk7Cn0KLmxhbmdUcmFuc2xhdGUgewogIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykgIWltcG9ydGFudDsKfQoubGFuZ0RlZmF1bHQgdGV4dGFyZWEsCi5sYW5nVHJhbnNsYXRlIHRleHRhcmVhIHsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBib3JkZXI6IDAgIWltcG9ydGFudDsKICBjb2xvcjogI2ZmZjsKICBoZWlnaHQ6IDEwMCU7CiAgcGFkZGluZzogMDsKICByZXNpemU6IG5vbmU7Cn0KLmxhbmdEZWZhdWx0IHRleHRhcmVhOmZvY3VzIHsKICBjb2xvcjogI2ZmZjsKfQoubGFuZ1RyYW5zbGF0ZSB0ZXh0YXJlYSwKLmxhbmdUcmFuc2xhdGUgdGV4dGFyZWE6Zm9jdXMgewogIGNvbG9yOiAjZmZmMzAwOwp9CgpAbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHsKICAubGFuZ0NvbnRhaW5lci5vcGVuU2V0dGluZ1BhbmVsIHsKICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA1NXB4KTsKICB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA1NzVweCkgewogIC5sYW5nQ29udGFpbmVyLm9wZW5TZXR0aW5nUGFuZWwgewogICAgd2lkdGg6IGNhbGMoMTAwJSAtIDU1cHgpOwogIH0KfQo="},{"version":3,"sources":["lang-container.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"lang-container.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section id=\"langContainer\" class=\"langContainer\">\n    <div id=\"langDefault\" class=\"langDefault\">\n      <textarea\n        id=\"speechText\"\n        :style=\"{ fontSize: speechTextSize + 'px' }\"\n        disabled\n        v-model=\"speekText\"\n      >\n先日のお見積もりの件ですが、ご要望に沿う条件でご提案することが可能のようです。こちらの先日のお見積もりの件ですが、ご要望に沿う条件でご提案することが可能のようです。こちらの先日のお見積もりの件ですが、ご要望に沿う条件でご提案することが可能のようです。こちらの先日のお見積もりの件ですが、ご要望に沿う条件でご提案することが可能のようです。こちらの資料をご覧ください。先日のお見積もりの件ですが、ご要望に沿う条件でご提案することが可能のようです。こちらの資料をご覧ください。</textarea\n      >\n    </div>\n    <div id=\"langTranslate\" class=\"langTranslate\">\n      <textarea\n        id=\"translateText\"\n        :style=\"{ fontSize: translateTextSize + 'px', fontFamily: specialLang == 'ev' ? 'ElvishFont' : ''}\"\n        disabled\n        v-model=\"translateText\"\n      >\nRegarding your recent quotation, it seems that it is possible for us to offer you a proposal with terms that meet your requirements. Please take a look at this document.</textarea\n      >\n    </div>\n    \n    <textarea id=\"outLanguage\" v-show=\"false\" v-model=\"langText\" style=\"position:absolute\">\n      Elvish\n    </textarea>\n  </section>\n</template>\n<script>\nvar SpeechRecognition =\n  window.SpeechRecognition || window.webkitSpeechRecognition;\nvar recognition = SpeechRecognition ? new SpeechRecognition() : false;\n\nimport { EventBus } from \"../Event.js\";\n\nexport default {\n  props: {\n    lang: {\n      type: String,\n      default: \"ja-JP\",\n    },\n  },\n  data() {\n    return {\n      error: false,\n      speaking: false,\n      toggle: false,\n      isChange: false,\n      speekText: \"\",\n      translateText: \"\",\n      runtimeTranscription: \"\",\n      sentences: [],\n      inputLang: \"ja\",\n      outputLang: \"en\",\n      specialLang: \"\",\n      // testlang: \"\",\n      speechTextSize: 30,\n      translateTextSize: 30,\n      tts: \"google\",\n      extensionid: \"\",\n      langText: \"\"\n    };\n  },\n  methods: {\n    updateSize() {\n      var speechDivEl = document.getElementById(\"speechText\");\n      if (speechDivEl.scrollHeight > speechDivEl.clientHeight) {\n        this.speechTextSize = this.speechTextSize * 0.9;\n      } else {\n        this.speechTextSize = 30;\n      }\n\n      var translateDivEl = document.getElementById(\"translateText\");\n      if (translateDivEl.scrollHeight > translateDivEl.clientHeight) {\n        this.translateTextSize = this.translateTextSize * 0.9;\n      } else {\n        this.translateTextSize = 30;\n      }\n\n      setTimeout(() => {\n        this.updateSize();\n      }, 10);\n    },\n    calc() {\n      setTimeout(() => {\n        this.updateSize();\n      }, 0);\n    },\n    checkCompatibility() {\n      if (!recognition) {\n        this.error =\n          \"Speech Recognition is not available on this browser. Please use Chrome or Firefox\";\n        return;\n      }\n      this.startSpeechRecognition();\n    },\n    endSpeechRecognition() {\n      this.translateGoogle(\"I speak English\");\n    },\n    startSpeechRecognition() {\n      if (!recognition) {\n        this.error =\n          \"Speech Recognition is not available on this browser. Please use Chrome or Firefox\";\n        return false;\n      }\n      this.toggle = true;\n      recognition.lang = this.inputLang;\n      recognition.interimResults = true;\n\n      recognition.addEventListener(\"speechstart\", (event) => {\n        this.speaking = true;\n        console.log(\"speechstart \" + event + \" = \" + this.inputLang);\n      });\n\n      recognition.addEventListener(\"speechend\", (event) => {\n        this.speaking = false;\n        console.log(\"speechend \" + event);\n      });\n\n      recognition.addEventListener(\"result\", (event) => {\n        const text = Array.from(event.results)\n          .map((result) => result[0])\n          .map((result) => result.transcript)\n          .join(\"\");\n        this.runtimeTranscription = text;\n        this.speekText = text;\n      });\n\n      recognition.addEventListener(\"end\", () => {\n        if (this.runtimeTranscription !== \"\") {\n          this.sentences.push(\n            this.capitalizeFirstLetter(this.runtimeTranscription)\n          );\n          console.log(\n            \"addEventListener end \" +\n              `${this.text}${this.sentences.slice(-1)[0]}. `\n          );\n\n          this.$emit(\n            \"update:text\",\n            `${this.text}${this.sentences.slice(-1)[0]}. `\n          );\n        }\n        this.runtimeTranscription = \"\";\n        if (this.toggle) {\n          // keep it going.\n          try {\n            recognition.start();\n          } catch (e) {\n            console.log(\"Exception: \", e);\n          }\n        }\n      });\n      if (!this.isChange) recognition.start();\n      this.isChange = false;\n    },\n    capitalizeFirstLetter(string) {\n      console.log(\"Final \" + string.charAt(0).toUpperCase() + string.slice(1));\n      this.speekText = string.charAt(0).toUpperCase() + string.slice(1);\n      this.translateGoogle(this.speekText);\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n    translateGoogle(text) {\n      let result = \"\";\n      \n      console.log(\"translateSpecial ==text=== \" + text + \" == \" + this.inputLang + \" == \" + this.specialLang);\n      if (this.inputLang == 'en' && this.specialLang == 'ev') {\n        this.translateSpecial(text);\n        return;\n      }\n      fetch(\n        \"https://translation.googleapis.com/language/translate/v2?json=true&key=AIzaSyBln_lQXmZDeYw_RWLS1fp1fTC4OrquwYw&source=\" +\n          this.inputLang +\n          \"&target=\" +\n          this.outputLang +\n          \"&format=text&q=\" +\n          text\n      )\n        .then(async (response) => {\n          const data = await response.json();\n          if (!data.data) return \"\";\n          for (const translation of data.data.translations) {\n            result += translation.translatedText;\n          }\n          this.translateTextSize = 30;\n          if (this.specialLang === \"ev\"){\n            this.translateSpecial(result);\n          }\n          else{\n            this.translateText = result;\n          }\n          // localStorage.setItem(\"result\", result);\n        })\n        .catch(function (error) {\n          console.log(\"error == \" + error);\n        });\n    },\n    translateSpecial(text) {\n      console.log(\"translateSpecial ==text=== \" + text);\n      let result = \"\";\n      fetch(\"http://124.158.4.209:8888/sindarin?text=\" + text)\n        .then(async (response) => {\n          const data = await response.json();\n          if (!data.result) return \"\";\n          result = data.result;\n          console.log(\"translateSpecial ===== \" + result);\n          this.translateText = result;\n        })\n        .catch(function (error) {\n          console.log(\"error == \" + error);\n        });\n    }\n  },\n  mounted() {\n    //this.translateSpecial(\"how are you?\");\n    const key = require(\"../constant.json\");\n    this.extensionid = key.extensionid;\n    this.calc();\n    this.checkCompatibility();\n    EventBus.$on(\"changeInputLang\", language => {\n      //    console.log(\"changeInputLang == \" + language);\n      this.inputLang = language;\n      // if (language == \"\")\n      //   this.inputLang = 'ja';\n      this.isChange = true;\n      this.toggle = true;\n      this.startSpeechRecognition();\n    });\n    EventBus.$on(\"changeOutputLang\", (language, language2) => {\n      this.outputLang = language;\n      // if (language == \"\")\n      //   this.outputLang = 'en';\n      this.specialLang = language2;\n      this.langText = language2;\n    });\n  },\n};\n</script>\n\n<style>\n.langContainer {\n  height: calc(100vh - 90px);\n  margin-top: 70px;\n  width: calc(100% - 55px);\n  -webkit-transition: all 0.3s ease-out 0s;\n  transition: all 0.3s ease-out 0s;\n}\n.langContainer.openSettingPanel {\n  width: calc(100% - 250px);\n}\n.langDefault,\n.langTranslate {\n  height: calc(50vh - 45px);\n  margin: 0 20px 0 40px;\n  padding: 40px 0 !important;\n  width: calc(100% - 60px);\n}\n.langTranslate {\n  border-top: 1px solid rgba(255, 255, 255, 0.3) !important;\n}\n.langDefault textarea,\n.langTranslate textarea {\n  background: transparent;\n  border: 0 !important;\n  color: #fff;\n  height: 100%;\n  padding: 0;\n  resize: none;\n}\n.langDefault textarea:focus {\n  color: #fff;\n}\n.langTranslate textarea,\n.langTranslate textarea:focus {\n  color: #fff300;\n}\n\n@media (max-width: 767px) {\n  .langContainer.openSettingPanel {\n    width: calc(100% - 55px);\n  }\n}\n\n@media (max-width: 575px) {\n  .langContainer.openSettingPanel {\n    width: calc(100% - 55px);\n  }\n}\n</style>\n"]}]}